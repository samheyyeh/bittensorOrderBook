<!-- /templates/subnetFinancialData.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bittensor Subnet Financial Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}">
    <style>
        body {
            background: #181c20;
            color: #f3f4f6;
        }
        .back-btn {
            width: 320px;
            margin: 2rem auto 2rem auto;
            display: block;
            font-size: 1.15rem;
        }
        .table-dark {
            background-color: #181c20;
            color: #f3f4f6;
        }
        .table-dark th, .table-dark td {
            white-space: nowrap;
            border-color: #23272b;
        }
        .table-dark thead th {
            background-color: #23272b;
            color: #e5e7eb;
            font-size: 1.08rem;
            letter-spacing: 0.03em;
            text-transform: capitalize;
        }
        .scroll-x {
            overflow-x: auto;
            width: 100%;
        }
        .container {
            background: none !important;
            box-shadow: none !important;
        }
    </style>
</head>
<body>
    <a href="/" class="btn btn-secondary back-btn">Back to Home</a>
    <div class="container mt-4">
        <h1>Bittensor Subnet Financial Data</h1>
        {% if data and data|length > 0 %}
            {% set col_titles = {
                'netuid': 'NetUID',
                'name': 'Subnet Name',
                'market_cap': 'Market Cap',
                'market_cap_usd': 'Market Cap (USD)',
                'market_cap_change_1_day': '1-Day Market Cap Δ',
                'alpha_staked': 'Alpha Staked',
                'alpha_staked_usd': 'Alpha Staked (USD)',
                'alpha_in_pool': 'Alpha in Pool',
                'alpha_in_pool_usd': 'Alpha in Pool (USD)',
                'price': 'Price',
                'price_change_1_day': '1-Day Price Δ',
                'tao_volume_24_hr': '24h TAO Volume',
                'tao_volume_24_hr_usd': '24h TAO Volume (USD)',
                'buyers_24_hr': 'Buyers (24h)',
                'sellers_24_hr': 'Sellers (24h)',
                'fear_and_greed_index': 'Fear & Greed Index',
                'fear_and_greed_sentiment': 'Fear & Greed Sentiment',
                'error': 'Error'
            } %}
            <div class="scroll-x">
                <table class="table table-dark table-bordered mb-0">
                    <thead>
                        <tr>
                            {% for key in data[0].keys() %}
                                <th>{{ col_titles.get(key, key|replace('_', ' ')|title) }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in data %}
                        <tr>
                            {% for value in row.values() %}
                                <td>{{ value }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% else %}
            <p>No financial data available.</p>
        {% endif %}
    </div>
</body>
</html>
